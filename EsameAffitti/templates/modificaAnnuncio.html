{% extends "base.html" %}
{%block aside%}
<h4 class="titolo">Le foto attuali dell'annuncio</h4>
<section class="mt-3">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-1-circle ms-4" viewBox="0 0 16 16">
        <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M9.283 4.002V12H7.971V5.338h-.065L6.072 6.656V5.385l1.899-1.383z"/>
      </svg>
    <img src="{{url_for('static', filename = annuncio.url1)}}" class="fotoAnnuncio" alt="immagine principale dell'annuncio">    
</section>
{%if annuncio.url2 != None%}
<section class="mt-3">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-2-circle ms-4" viewBox="0 0 16 16">
    <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.646 6.24v.07H5.375v-.064c0-1.213.879-2.402 2.637-2.402 1.582 0 2.613.949 2.613 2.215 0 1.002-.6 1.667-1.287 2.43l-.096.107-1.974 2.22v.077h3.498V12H5.422v-.832l2.97-3.293c.434-.475.903-1.008.903-1.705 0-.744-.557-1.236-1.313-1.236-.843 0-1.336.615-1.336 1.306"/>
  </svg>
<img src="{{url_for('static', filename = annuncio.url2)}}" class="fotoAnnuncio">
</section>
{%endif%}
{%if annuncio.url3 != None%}
<section class="mt-3">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-3-circle ms-4" viewBox="0 0 16 16">
        <path d="M7.918 8.414h-.879V7.342h.838c.78 0 1.348-.522 1.342-1.237 0-.709-.563-1.195-1.348-1.195-.79 0-1.312.498-1.348 1.055H5.275c.036-1.137.95-2.115 2.625-2.121 1.594-.012 2.608.885 2.637 2.062.023 1.137-.885 1.776-1.482 1.875v.07c.703.07 1.71.64 1.734 1.917.024 1.459-1.277 2.396-2.93 2.396-1.705 0-2.707-.967-2.754-2.144H6.33c.059.597.68 1.06 1.541 1.066.973.006 1.6-.563 1.588-1.354-.006-.779-.621-1.318-1.541-1.318"/>
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8"/>
      </svg>
    <img src="{{url_for('static', filename = annuncio.url3)}}" class="fotoAnnuncio">
</section>
{%endif%}
{%if annuncio.url4 != None%}
<section class="mt-3">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-4-circle ms-4" viewBox="0 0 16 16">
        <path d="M7.519 5.057q.33-.527.657-1.055h1.933v5.332h1.008v1.107H10.11V12H8.85v-1.559H4.978V9.322c.77-1.427 1.656-2.847 2.542-4.265ZM6.225 9.281v.053H8.85V5.063h-.065c-.867 1.33-1.787 2.806-2.56 4.218"/>
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8"/>
      </svg>
    <img src="{{url_for('static', filename = annuncio.url4)}}" class="fotoAnnuncio">
</section>
{%endif%}
{%if annuncio.url5 != None%}
<section class="mt-3">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-5-circle ms-4" viewBox="0 0 16 16">
        <path d="M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8m15 0A8 8 0 1 0 0 8a8 8 0 0 0 16 0m-8.006 4.158c-1.57 0-2.654-.902-2.719-2.115h1.237c.14.72.832 1.031 1.529 1.031.791 0 1.57-.597 1.57-1.681 0-.967-.732-1.57-1.582-1.57-.767 0-1.242.45-1.435.808H5.445L5.791 4h4.705v1.103H6.875l-.193 2.343h.064c.17-.258.715-.68 1.611-.68 1.383 0 2.561.944 2.561 2.585 0 1.687-1.184 2.806-2.924 2.806Z"/>
      </svg>
    <img src="{{url_for('static', filename = annuncio.url5)}}" class="fotoAnnuncio">
</section>
{%endif%}
{%endblock%}
{%block corpo%}
<h4 class="titolo">Modifica annuncio</h4>
<form action="{{url_for('update_annuncio', id_annuncio = annuncio.id_annuncio )}}" method="POST" id="formAnnuncio" class="py-3" enctype="multipart/form-data" tabindex="-1" aria-hidden="true">
    <article class="aggiungiAnnuncio rounded">
        <div class="mb-2">
            <label for="titoloText" class="form-label">Titolo:</label>
            <input type="text" class="form-control" id="titoloText" name="titolo" value="{{annuncio.titolo}}" required>
        </div>
        <div class="mb-3">
            <label for="titoloText" class="form-label">Indirizzo:</label>
            <input type="text" class="form-control" id="titoloText" name="indirizzo" value="{{annuncio.indirizzo}}" readonly required>
        </div>
        <div class="mb-3">
            <label for="descrizioneText" class="form-label">Una breve descrizione:</label>
            <textarea class="form-control" id="descrizioneText" name="descrizione" rows="4" placeholder="{{annuncio.descrizione}}"></textarea>
        </div>
        <div class="mb-3">
            <label for="tipoCasaSelect" class="form-label">Seleziona il tipo di immobile:</label>
            <select class="form-select" id="tipoCasaSelect" name="tipoCasa" aria-label="Default select example" required>
                <option value="1" {%if annuncio.tipoCasa == 'Casa indipendente' %}selected{%endif%}>Casa indipendente</option>
                <option value="2" {%if annuncio.tipoCasa == 'Appartamento' %}selected{%endif%}>Appartamento</option>
                <option value="3" {%if annuncio.tipoCasa == 'Loft' %}selected{%endif%}>Loft</option>
                <option value="4" {%if annuncio.tipoCasa == 'Villa' %}selected{%endif%}>Villa</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="numLocaliSelect" class="form-label">Seleziona il numero di locali:</label>
            <select class="form-select" id="numLocaliSelect" name="numLocali" aria-label="Default select example" required>
                <option value="1" {%if annuncio.numLocali == 1 %}selected{%endif%}>1</option>
                <option value="2" {%if annuncio.numLocali == 2 %}selected{%endif%}>2</option>
                <option value="3" {%if annuncio.numLocali == 3 %}selected{%endif%}>3</option>
                <option value="4" {%if annuncio.numLocali == 4 %}selected{%endif%}>4</option>
                <option value="5" {%if annuncio.numLocali == 5 %}selected{%endif%}>5+</option>
            </select>
        </div>
        <a class="text-reset" data-bs-toggle="collapse" href="#collapseFoto" aria-expanded="false" aria-controls="collapseFoto">Modifica foto</a>
        <section class="collapse p-2" id="collapseFoto">
            <div class="mb-3">
                <input class="form-check-input" type="checkbox" value="1" id="elimina1Check" name="elimina1" data-bs-toggle="collapse" href="#collapseUrl1" aria-expanded="false" aria-controls="collapseUrl1">
                <label class="form-check-label" for="elimina1Check">Cambia la foto principale <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-1-circle" viewBox="0 0 16 16">
                    <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M9.283 4.002V12H7.971V5.338h-.065L6.072 6.656V5.385l1.899-1.383z"/>
                </svg></label>
                <div class="collapse collapse-horizontal p-2 row" id="collapseUrl1">
                    <label for="primaFotoFile" class="form-label col-2">Nuova foto:</label>
                    <input class="form-control col" type="file" id="primaFotoFile" name="url1" accept=".jpg, .jpeg, .png">
                </div>
            </div>
            <div class="mb-3">
                {%if annuncio.url2 != None%}
                <input class="form-check-input" type="checkbox" value="1" id="elimina2Check" name="elimina2" data-bs-toggle="collapse" href="#collapseUrl2" aria-expanded="false" aria-controls="collapseUrl2">
                <label class="form-check-label" for="elimina1Check">Elimina o cambia la foto <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-2-circle" viewBox="0 0 16 16">
                    <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.646 6.24v.07H5.375v-.064c0-1.213.879-2.402 2.637-2.402 1.582 0 2.613.949 2.613 2.215 0 1.002-.6 1.667-1.287 2.43l-.096.107-1.974 2.22v.077h3.498V12H5.422v-.832l2.97-3.293c.434-.475.903-1.008.903-1.705 0-.744-.557-1.236-1.313-1.236-.843 0-1.336.615-1.336 1.306"/>
                </svg></label>
                <div class="collapse collapse-horizontal p-2 row" id="collapseUrl2">
                    <label for="secondaFotoFile" class="form-label col-2">Nuova foto:</label>
                    <input class="form-control col" type="file" id="secondaFotoFile" name="url2" accept=".jpg, .jpeg, .png">
                </div>
                {%else%}
                <label for="secondaFotoFile" class="form-label col-3">Inserisci una seconda foto:</label>
                <input class="form-control col" type="file" id="secondaFotoFile" name="url2" accept=".jpg, .jpeg, .png">
                {%endif%}
            </div>
            <div class="mb-3">
                {%if annuncio.url3 != None%}
                <input class="form-check-input" type="checkbox" value="1" id="elimina3Check" name="elimina3" data-bs-toggle="collapse" href="#collapseUrl3" aria-expanded="false" aria-controls="collapseUrl3">
                <label class="form-check-label" for="elimina3Check">Elimina o cambia la foto <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-3-circle" viewBox="0 0 16 16">
                    <path d="M7.918 8.414h-.879V7.342h.838c.78 0 1.348-.522 1.342-1.237 0-.709-.563-1.195-1.348-1.195-.79 0-1.312.498-1.348 1.055H5.275c.036-1.137.95-2.115 2.625-2.121 1.594-.012 2.608.885 2.637 2.062.023 1.137-.885 1.776-1.482 1.875v.07c.703.07 1.71.64 1.734 1.917.024 1.459-1.277 2.396-2.93 2.396-1.705 0-2.707-.967-2.754-2.144H6.33c.059.597.68 1.06 1.541 1.066.973.006 1.6-.563 1.588-1.354-.006-.779-.621-1.318-1.541-1.318"/>
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8"/>
                </svg></label>
                <div class="collapse collapse-horizontal p-2 row" id="collapseUrl3">
                    <label for="terzaFotoFile" class="form-label col-2">Nuova foto:</label>
                    <input class="form-control col" type="file" id="terzaFotoFile" name="url3" accept=".jpg, .jpeg, .png">
                </div>
                {%else%}
                <label for="terzaFotoFile" class="form-label col-3">Inserisci una terza foto:</label>
                <input class="form-control col" type="file" id="terzaFotoFile" name="url3" accept=".jpg, .jpeg, .png">
                {%endif%}
            </div>
            <div class="mb-3">
                {%if annuncio.url4 != None%}
                <input class="form-check-input" type="checkbox" value="1" id="elimina4Check" name="elimina4" data-bs-toggle="collapse" href="#collapseUrl4" aria-expanded="false" aria-controls="collapseUrl4">
                <label class="form-check-label" for="elimina4Check">Elimina o cambia la foto <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-4-circle" viewBox="0 0 16 16">
                    <path d="M7.519 5.057q.33-.527.657-1.055h1.933v5.332h1.008v1.107H10.11V12H8.85v-1.559H4.978V9.322c.77-1.427 1.656-2.847 2.542-4.265ZM6.225 9.281v.053H8.85V5.063h-.065c-.867 1.33-1.787 2.806-2.56 4.218"/>
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8"/>
                </svg></label>
                <div class="collapse collapse-horizontal p-2 row" id="collapseUrl4">
                    <label for="quartaFotoFile" class="form-label col-2">Nuova foto:</label>
                    <input class="form-control col" type="file" id="quartaFotoFile" name="url4" accept=".jpg, .jpeg, .png">
                </div>
                {%else%}
                <label for="quartaFotoFile" class="form-label col-3">Inserisci una quarta foto:</label>
                <input class="form-control col" type="file" id="quartaFotoFile" name="url4" accept=".jpg, .jpeg, .png">
                {%endif%}
            </div>
            <div class="mb-3">
                {%if annuncio.url5 != None%}
                <input class="form-check-input" type="checkbox" value="1" id="elimina5Check" name="elimina5" data-bs-toggle="collapse" href="#collapseUrl5" aria-expanded="false" aria-controls="collapseUrl5">
                <label class="form-check-label" for="elimina5Check">Elimina o cambia la foto <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-5-circle" viewBox="0 0 16 16">
                    <path d="M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8m15 0A8 8 0 1 0 0 8a8 8 0 0 0 16 0m-8.006 4.158c-1.57 0-2.654-.902-2.719-2.115h1.237c.14.72.832 1.031 1.529 1.031.791 0 1.57-.597 1.57-1.681 0-.967-.732-1.57-1.582-1.57-.767 0-1.242.45-1.435.808H5.445L5.791 4h4.705v1.103H6.875l-.193 2.343h.064c.17-.258.715-.68 1.611-.68 1.383 0 2.561.944 2.561 2.585 0 1.687-1.184 2.806-2.924 2.806Z"/>
                </svg></label>
                <div class="collapse collapse-horizontal p-2 row" id="collapseUrl5">
                    <label for="quintaFotoFile" class="form-label col-2">Nuova foto:</label>
                    <input class="form-control col" type="file" id="quintaFotoFile" name="url5" accept=".jpg, .jpeg, .png">
                </div>
                {%else%}
                <label for="quintaFotoFile" class="form-label col-3">Inserisci una quinta foto:</label>
                <input class="form-control col" type="file" id="quintaFotoFile" name="url5" accept=".jpg, .jpeg, .png">
                {%endif%}
            </div>
        </section>
        <div class="form-check mt-3">
            {%if annuncio.isArredata == 0%}
            <input class="form-check-input" type="checkbox" value="1" id="arredataCheck" name="isArredata">
            <label class="form-check-label" for="arredataCheck">Già arredato</label>
            {%endif%}
            {%if annuncio.isArredata == 1%}
            <input class="form-check-input" type="checkbox" value="1" id="arredataCheck" name="isArredata" checked>
            <label class="form-check-label" for="arredataCheck">Già arredato</label>
            {%endif%}
        </div>
        <div class="form-check mb-3">
            {%if annuncio.isDisponibile == 0%}
            <input class="form-check-input" type="checkbox" value="1" id="disponibileCheck" name="isDisponibile">
            <label class="form-check-label" for="disponibileCheck">Subito disponibile</label>
            {%endif%}
            {%if annuncio.isDisponibile == 1%}
            <input class="form-check-input" type="checkbox" value="1" id="disponibileCheck" name="isDisponibile" checked>
            <label class="form-check-label" for="disponibileCheck">Subito disponibile</label>
            {%endif%}
        </div>
        <div class="input-group mb-3">
            <div class="form-floating">
                <input type="text" class="form-control" id="prezzoText" name="prezzo" value="{{annuncio.prezzo}}" required>
                <label for="prezzoText">Prezzo al mese</label>
            </div>
            <span class="input-group-text">€/mese</span>
        </div>
        <button type="submit" class="bottoneLogin">Carica</button>
        <button type="reset" class="bottoneLogin">Cancella</button>
    </article>
</form>
{%endblock%}